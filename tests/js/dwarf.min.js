/*! webkit-dwarf Copyright(c) 2013 Daniel Yang <miniflycn@gmail.com> MIT Licensed */
!function(a){var b=document.getElementsByTagName("head")[0],c,d,e;function f(a){return"function"==typeof a}function g(a,b){return h(b)?b:i(b)?j(a,b)+".js":void 0}function h(a){return/^https?:|^\/|.js$/.test(a)}function i(a){return 0===(a+"").indexOf(".")}function j(a,b){var c=a.split("/"),d=b.split("/"),e;c.pop();while(d.length)if(e=d.shift(),".."==e)if(c.length){e=c.pop();while("."==e)e=c.pop();".."==e&&c.push("..","..")}else c.push(e);else"."!=e&&c.push(e);return b=c.join("/")}var k=function(){var a={};return{get:function(b){return a[b]},set:function(b,c){return b in a?!1:(a[b]=c,!0)}}}(),l=function(){var a=[];return{push:function(){return a.push.apply(a,arguments)},make:function(b){a.forEach(function(a){var c=g(b,a.m),d=a.d,e=a.f;return n({base:b})(d,function(){var a=k.get(c);return a||(a=new m(c,!0),k.set(c,a)),!a.loaded&&a.set(e)})}),a.length=0}}}();function m(a,b){!b&&this.load(a),this.path=a,this.succList=[],this.failList=[]}m.prototype={constructor:m,load:function(a){var e=document.createElement("script"),f=this;e.addEventListener("load",g,!1),e.addEventListener("error",h,!1),e.type="text/javascript",e.async="async",e.src=a,b.appendChild(e);function g(){return i(),l.make(this.src)}function h(){return i(),b.removeChild(e),c&&!~a.indexOf(d)?f.load(a.replace(c,d)):f.down()}function i(){e.removeEventListener("load",g,!1),e.removeEventListener("error",h,!1)}},_unshift:function(a,b){return a.some(function(a){return a===b})?void 0:a.unshift(b)},succ:function(a){return this._unshift(this.succList,a)},fail:function(a){return this._unshift(this.failList,a)},done:function(){this.loaded=!0,this.succList.forEach(function(a){return a()})},down:function(){this.failList.forEach(function(a){return a()})},require:function(){if(this.factory){var a={exports:{}};return this.factory(n({base:this.path}),a.exports,a),this.exports=a.exports,this.require=function(){return this.exports},this.require()}return new Error("script has not loaded.")},set:function(a){return this.factory=a,this.done()}};function n(a){var b=a.base;function c(a,c,d){var e;if(!c){var f=g(b,a),h=k.get(f);if(h.loaded)return h.require();throw new Error("script has not loaded.")}function i(){var f=[];a.forEach(function(a,c){var e=g(b,a),h=k.get(e);h||(h=new m(e),k.set(e,h)),h.loaded||(f.push(a),h.succ(i),d&&h.fail(d))}),a=f,a.length||e||(e=!0,c())}i()}return c}function o(a,b,c){if(!c){if(f(b))c=b;else{var d=b;c=function(a,b,c){return c.exports=d}}b=[]}l.push({m:a,d:b,f:c})}function p(a){c=void 0===a.base?c:a.base}var q=a.require=function(){return e?e.apply(a,arguments):(l.make(c||location.href),c?(e=n({base:c}),d=location.href):e=n({base:location.href}),e.apply(a,arguments))};q.opt=p,q.makeRequire=n,a.define=o}(window);
//# sourceMappingURL=dwarf.min.map